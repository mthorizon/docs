<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script>
    
    <title data-react-helmet="true">Sequence - Web3 Gaming Platform - Embedded Wallet Architecture</title>
    <meta data-react-helmet="true" name="description" content="Documentation for Embedded Wallet Architecture for the Sequence infrastructure stack for web3 gaming."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Sequence - Web3 Gaming Platform - Embedded Wallet Architecture"/><meta data-react-helmet="true" property="og:description" content="Documentation for Embedded Wallet Architecture for the Sequence infrastructure stack for web3 gaming."/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/>
    <link data-react-helmet="true" rel="icon" href="/img/favicon.ico" type="image/x-icon"/><link data-react-helmet="true" rel="icon" href="/img/favicon.ico" type="image/x-icon" media="(prefers-color-scheme: dark)"/>
    
    
    
  
    <script type="module" crossorigin src="/assets/index-KeQXsbC9.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-bmaxnQBK.css">
  </head>
  <body>
    <div id="app"><div><div class="h-9"></div><div class="container mx-auto px-4 flex justify-between items-center"><a class="hover-fade font-bold text-white max-w-max h-min text-center pr-[120px] py-[8px] text-[12px] leading-[20px] ml-[8px] top-nav-button_position">Build</a><button class="hover-fade font-bold text-white max-w-max h-min text-center rounded-full bg-gradient-to-r from-[#4411E1] to-[#7537F9] px-[20px] py-[4px] text-[12px] top-auth-button_position">Login</button></div><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/solutions/wallets/embedded-wallet/architecture/overview#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo vocs_Logo_logoDark" src="/img/sequence-composite-dark.svg"/><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo vocs_Logo_logoLight" src="/img/sequence-composite-light.svg"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/solutions/builder/overview">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/builder/getting-started">Getting Started</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Onboard</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/overview">Overview</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Embedded Wallet</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/overview">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/quickstart">Quickstart</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item"><a data-active="false" href="/solutions/builder/embedded-wallet">Setup</a></div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item"><a data-active="false" href="/solutions/wallets/embedded-wallet/examples/authentication">Examples</a></div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_itemActive">Architecture</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="true" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/architecture/overview">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/architecture/action-payloads">Action Payloads</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/architecture/response-payloads">Response Payloads</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/architecture/trust-contract-recovery-flow">Trust Contract Recovery Flow</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/architecture/enclave-verification">Enclave Verification</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/architecture/intents">Intents</a></div></section><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/migration">Migrating to Sequence</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/embedded-wallet/faq">FAQ</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Sequence Kit</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/sequence-kit/overview">Overview</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/sequence-kit/getting-started">Quickstart</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/sequence-kit/custom-configuration">Custom Configuration</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/sequence-kit/on-ramp">On-ramp</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/sequence-kit/checkout">Checkout</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/wallets/sequence-kit/custom-connectors">Custom Connectors</a></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item"><a data-active="false" href="/solutions/wallets/link-wallets/overview">Wallet Linking</a></div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item"><a data-active="false" href="/solutions/wallets/universal-wallet/overview">Universal Wallet</a></div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Monetize</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/solutions/monetization-overview">Overview</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item"><a data-active="false" href="/solutions/marketplaces/white-label-marketplace">Marketplaces</a></div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="/solutions/payments/onramps/fiat-on-ramps">Fiat On-ramps</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Power</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/solutions/power-overview">Overview</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item"><a data-active="false" href="/solutions/builder/contracts">Deployable Contracts</a></div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section><a data-active="false" class="vocs_Sidebar_item" href="/solutions/builder/collections">Manage Collections</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item">Querying Blockchain Data</div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div><div class="vocs_Sidebar_items vocs_Sidebar_levelInset"><a data-active="false" class="vocs_Sidebar_item" href="/solutions/builder/indexer">Indexer</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/builder/webhooks">Webhooks</a></div></section><a data-active="false" class="vocs_Sidebar_item" href="/solutions/transaction-manager/overview">Transaction Manager</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/builder/analytics">Analytics</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/builder/gas-tank">Gas Sponsorship</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/builder/node-gateway">Node Gateway</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Technical References</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/solutions/technical-references/chain-support">Chain Support</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/technical-references/wallet-contracts/why">Why Smart Contract Wallets?</a><a data-active="false" class="vocs_Sidebar_item" href="/solutions/technical-references/ethers-v6-migration">Ethers v6 Support</a><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_sectionHeader" role="button" tabindex="0"><div class="vocs_Sidebar_item"><a data-active="false" href="/solutions/technical-references/internals/deployment">Contract Internals</a></div><div role="button" tabindex="0"><div aria-label="toggle section" class="vocs_Icon vocs_Sidebar_sectionCollapse vocs_Sidebar_sectionCollapseActive" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></div></div></section></div></section></div></nav></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R2mf:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo vocs_Logo_logoDark" src="/img/sequence-composite-dark.svg"/><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo vocs_Logo_logoLight" src="/img/sequence-composite-light.svg"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><li class="vocs_DesktopTopNav_item vocs_NavigationMenu_item"><button id="radix-:R2omf:-trigger-radix-:Rqomf:" data-state="closed" aria-expanded="false" aria-controls="radix-:R2omf:-content-radix-:Rqomf:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">Solutions</button></li><li class="vocs_DesktopTopNav_item vocs_NavigationMenu_item"><button id="radix-:R2omf:-trigger-radix-:R1aomf:" data-state="closed" aria-expanded="false" aria-controls="radix-:R2omf:-content-radix-:R1aomf:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">Resources</button></li><li class="vocs_DesktopTopNav_item vocs_NavigationMenu_item"><button id="radix-:R2omf:-trigger-radix-:R1qomf:" data-state="closed" aria-expanded="false" aria-controls="radix-:R2omf:-content-radix-:R1qomf:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">SDKs</button></li><li class="vocs_DesktopTopNav_item vocs_NavigationMenu_item"><button id="radix-:R2omf:-trigger-radix-:R2aomf:" data-state="closed" aria-expanded="false" aria-controls="radix-:R2omf:-content-radix-:R2aomf:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">APIs</button></li><li class="vocs_DesktopTopNav_item vocs_NavigationMenu_item"><button id="radix-:R2omf:-trigger-radix-:R2qomf:" data-state="closed" aria-expanded="false" aria-controls="radix-:R2omf:-content-radix-:R2qomf:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">Support</button></li></ul></div></nav></div><div class="vocs_DesktopTopNav_divider vocs_DesktopTopNav_hideCompact"></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo vocs_Logo_logoDark" src="/img/sequence-composite-dark.svg"/><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo vocs_Logo_logoLight" src="/img/sequence-composite-light.svg"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><li class="vocs_MobileTopNav_item vocs_NavigationMenu_item"><button id="radix-:R1j6f:-trigger-radix-:Rdj6f:" data-state="closed" aria-expanded="false" aria-controls="radix-:R1j6f:-content-radix-:Rdj6f:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">Solutions</button></li><li class="vocs_MobileTopNav_item vocs_NavigationMenu_item"><button id="radix-:R1j6f:-trigger-radix-:Rlj6f:" data-state="closed" aria-expanded="false" aria-controls="radix-:R1j6f:-content-radix-:Rlj6f:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">Resources</button></li><li class="vocs_MobileTopNav_item vocs_NavigationMenu_item"><button id="radix-:R1j6f:-trigger-radix-:Rtj6f:" data-state="closed" aria-expanded="false" aria-controls="radix-:R1j6f:-content-radix-:Rtj6f:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">SDKs</button></li><li class="vocs_MobileTopNav_item vocs_NavigationMenu_item"><button id="radix-:R1j6f:-trigger-radix-:R15j6f:" data-state="closed" aria-expanded="false" aria-controls="radix-:R1j6f:-content-radix-:R15j6f:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">APIs</button></li><li class="vocs_MobileTopNav_item vocs_NavigationMenu_item"><button id="radix-:R1j6f:-trigger-radix-:R1dj6f:" data-state="closed" aria-expanded="false" aria-controls="radix-:R1j6f:-content-radix-:R1dj6f:" data-active="false" class="vocs_NavigationMenu_trigger vocs_NavigationMenu_link" style="--vocs_NavigationMenu_chevronDownIcon:url(/.vocs/icons/chevron-down.svg)" data-radix-collection-item="">Support</button></li></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rd6f:" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3af:" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">Overview</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rlaf:" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="overview" class="vocs_Heading_slugTarget"></div>Overview<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#overview"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<h2 class="vocs_H2 vocs_Heading"><div id="embedded-wallet-architecture" class="vocs_Heading_slugTarget"></div>Embedded Wallet Architecture<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#embedded-wallet-architecture"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Sequence Embedded Wallets are native smart contract multisig wallets. The configuration of the multisig is 2/2, where both parties are required to sign in order to submit a transaction.</p>
<p class="vocs_Paragraph">Unlike the more traditional MPC architecture where the keys are first created together and then separated, Sequence WaaS keys are always kept separate and never have to be combined to sign.</p>
<p class="vocs_Paragraph">On top of this core security layer, Sequence WaaS architecture offers additional protections:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><strong class="vocs_Strong">Sequence Auth:</strong> Running in an encrypted AWS Nitro Enclave, Sequence Auth acts as the first signer and it&#x27;s locked into the latest publicly audited version by Quantstamp. Sequence doesn&#x27;t have the ability to access the enclave or push updates to it without Quantstamp&#x27;s approval.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">Sequence Guard:</strong> Running independently from Sequence Auth, Guard is capable of reviewing both the user&#x27;s identity and intent before signing transactions.</li>
<li class="vocs_ListItem"><strong class="vocs_Strong">OpenID Connect Compatibility:</strong> Sequence WaaS leverages established OpenID Connect providers such as Google, Apple and any other provider that follows the same protocol. Unlike any other solution on the market, WaaS also allows developers to leverage their own OIDC identifiers with these services.</li>
</ul>
<h2 class="vocs_H2 vocs_Heading"><div id="sequence-auth" class="vocs_Heading_slugTarget"></div>Sequence Auth<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#sequence-auth"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Sequence Auth is an API service that runs on the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://aws.amazon.com/ec2/nitro/nitro-enclaves/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">AWS Nitro Enclaves</a> platform and provides an authentication signer which contributes to the 2/2 multisig configuration per user wallet. Sequence Auth provides a simple way to add account creation, login, session management, and wallet support to your app, enabling applications to provide traditional web experiences (i.e. social login, email login, etc.) while providing access to crypto wallets to interact with smart contracts.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="waas-configuration-key" class="vocs_Heading_slugTarget"></div>WaaS Configuration Key<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#waas-configuration-key"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">For every new instance, a WaaS Configuration Key is used to authenticate an App or Game Client. This provides access to the blockchain through the WaaS SDK via the generated intents sent to Sequence Auth. Within a configuration key multiple Login Provider client ID&#x27;s can be registered, which each individually determine the wallet addresses generated per Provider. This means, if a client ID for a Login Provider (e.g. Google or Apple) is shared across instances, users using the same Login Provider with authentication credentials will yield the same address.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="wallet-private-keys" class="vocs_Heading_slugTarget"></div>Wallet Private Keys<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#wallet-private-keys"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">Wallet private keys are stored encrypted using a split responsibility strategy between Sequence and Quantstamp:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Sequence is able to access only the encrypted blobs stored in the database with no means of decryption.</li>
<li class="vocs_ListItem">Quantstamp owns and operates the <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://aws.amazon.com/kms/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">KMS</a> (AWS hardware security module) used to encrypt the wallet key data. They have no way to export the key material and no access to the encrypted data itself.</li>
</ol>
<h3 class="vocs_H3 vocs_Heading"><div id="waas-enclave" class="vocs_Heading_slugTarget"></div>Waas Enclave<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#waas-enclave"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The WaaS Enclave is the only entity able to use the encrypted wallet data. Its security is guaranteed by:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">The AWS Nitro hypervisor generates and signs a cryptographic attestation based on the actually running enclave code. The document includes a PCR0 (a hash of the enclave code) signed by the Amazon Public Key Infrastructure.</li>
<li class="vocs_ListItem">The KMS operated by the Trusted Third Party specifies a policy that only allows access to the cryptographic operations if the attestation is valid and the PCR0 hash of the enclave matches the expected value. This means that any - even the smallest - change to the enclave will result in a different attestation and PCR0 hash, effectively invalidating it.</li>
<li class="vocs_ListItem">The enclave code is open source and anyone may audit it and verify that the service uses the exact audited version of the source code. <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="/solutions/wallets/embedded-wallet/architecture/enclave-verification">Learn more about verification</a>.</li>
</ol>
<p class="vocs_Paragraph">Sequence Auth source code is <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://github.com/0xsequence/waas-authenticator" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">publicly available and independently audited</a>, and the safeguards described above ensure it cannot be tampered with by any party.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="sequence-guard" class="vocs_Heading_slugTarget"></div>Sequence Guard<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#sequence-guard"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Sequence Guard is a service hosted by Sequence and is the other key of the wallets which contributes to the 2/2 configuration per wallet. It&#x27;s meant to be another line of defense, verifying not only user&#x27;s <em>identity</em> but also their <em>intent</em>. It achieves this in two different ways:</p>
<p class="vocs_Paragraph">1 - Limits and allowlists: you can (from the development dashboard) configure what kind of actions are allowed, this means that the guard will only sign transactions within these constraints. For example, you can define that only NFT contract X can be called, and the guard will enforce that no other transactions can take place.</p>
<p class="vocs_Paragraph">2 - Authenticating the user: the Sequence Guard will authenticate the user <strong class="vocs_Strong">independently of Sequence Auth</strong>, it performs this action either by using a 3rd party OAuth 2.0 id token (from Meta, Google, X, etc.) or by directly communicating with the user via email/phone number with an OTP code. The direct communication is not always required and, when it does happen, it&#x27;s seamless and branded with your project details.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="threat-model" class="vocs_Heading_slugTarget"></div>Threat model<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#threat-model"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">With these safeguards in place wallets are <strong class="vocs_Strong">safe</strong> against the following scenarios:</p>
<ol class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">
<p class="vocs_Paragraph">Sequence.app backend is compromised, or guard keys are leaked: in this scenario, the user&#x27;s identity must still be verified by Sequence Auth.</p>
</li>
<li class="vocs_ListItem">
<p class="vocs_Paragraph">Sequence Auth is compromised: in this scenario the Sequence Guard protects the wallets, because it independently authenticates the user, an attacker in this scenario wouldn&#x27;t be able to access any wallets.</p>
</li>
</ol>
<p class="vocs_Paragraph">The model also provides partial protection against the scenario:</p>
<ol start="3" class="vocs_List vocs_List_ordered">
<li class="vocs_ListItem">Partner frontend is compromised, or MITM on the partner side: If an attacker were to be able to vulnerate the frontend of the partner, it could gain access to wallets at the time of login, but it cannot gain access to wallets of users who are currently inactive. This means that recovery from such a scenario is possible, with limited damage.</li>
</ol>
<h2 class="vocs_H2 vocs_Heading"><div id="simplified-data-flow" class="vocs_Heading_slugTarget"></div>Simplified Data Flow<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#simplified-data-flow"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Below we illustrate the data flow of a common use case such as signing a transaction via embedded wallets.</p>
<p class="vocs_Paragraph"><img src="/img/diagrams/waas/waas-flow.png" alt="data-flow-architecture"/></p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_note"><p class="vocs_Paragraph">Simplified layout describing the lifecycle of a transaction on the WaaS system.
Blue: Software provided by the partner
Orange: Software provided by Sequence but run and managed by the partner
Yellow: Software provided and run by Sequence in a secure AWS Nitro Enclave
Green: Software provided and run by Sequence</p></aside>
<h4 class="vocs_H4 vocs_Heading"><div id="1-generation-of-the-intent" class="vocs_Heading_slugTarget"></div>1. Generation of the Intent<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#1-generation-of-the-intent"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The user interacts with the client to &quot;do something&quot; that requires an action on behalf of the wallet (i.e. send some USDC or call a contract method).</p>
<p class="vocs_Paragraph">The client asks the <code class="vocs_Code">WaaS SDK</code> to generate an intent for such an action; this intent is signed with the session keys of the client. This session key is a generated key that is only valid while that OAuth session is valid. Every intent sent to the WaaS backend is first signed by this session key to validate that there is an active, authenticated session on the user side.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="2-sdk-forwards-intent-to-sequence-auth" class="vocs_Heading_slugTarget"></div>2. SDK Forwards Intent to Sequence Auth<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#2-sdk-forwards-intent-to-sequence-auth"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">The intent and its corresponding signature are sent to the Sequence Auth service running on an AWS Nitro Enclave.
Sequence Auth asks WaaS API to build a transaction for the given intent and then validates that the transaction does not deviate from the original intent. On successful validation, Sequence Auth signs the transaction and forwards the transaction, intent, and signature to the WaaS API.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="4-waas-api-collects-signature-from-sequence-guard" class="vocs_Heading_slugTarget"></div>4. WaaS API Collects Signature from Sequence Guard<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#4-waas-api-collects-signature-from-sequence-guard"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">WaaS API receives a &quot;half-signed&quot; transaction request, alongside an intent that has been signed by the client. It needs to collect one more signature before being able to relay the transaction, so it calls Sequence Guard.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="5-sequence-guard-authenticates-the-user" class="vocs_Heading_slugTarget"></div>5. Sequence Guard Authenticates the User<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#5-sequence-guard-authenticates-the-user"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">Sequence Guard receives a signature request for a given wallet. It verifies that the intent exists, corresponds to the transaction, and has been signed by a valid session. If everything is correct, it signs the transaction.</p>
<h4 class="vocs_H4 vocs_Heading"><div id="6-relay-and-transaction-receipt" class="vocs_Heading_slugTarget"></div>6. Relay and Transaction Receipt<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/solutions/wallets/embedded-wallet/architecture/overview#6-relay-and-transaction-receipt"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h4>
<p class="vocs_Paragraph">WaaS API relays the transaction and waits for the receipt. The resulting <code class="vocs_Code">txHash</code> is piped back to the client.</p></article><footer class="vocs_Footer"><div class="vocs_Footer_container"></div><div></div></footer></div><div data-bottom-observer="true"></div></div></div></div>
  </body>
</html>
