import{d as x,V as n,W as c,F as w,a9 as _,X as b,a0 as m,H as r,Z as S,a2 as h,_ as $,aq as M,aV as R,ap as j,r as g,l as z,ak as F,ab as u,Y as i,ac as I,aK as T,aa as U,a7 as Y,cE as Z,a4 as q,aN as H}from"./APIComponent-DS3uGYfr.js";import{d as J,c as L,u as O,f as W}from"./SidebarButton.vue-DpfQun5k.js";import{p as X,a as G}from"./SidebarListElement.vue-CZWjAbWe.js";import{x as P,a as Q}from"./ViewLayoutContent.vue-CMX-nGzZ.js";import"./index-DsbtFNYX.js";const ee={class:"flex flex-row gap-1.5 space-x-1"},le=["onClick"],ae=x({__name:"EnvironmentColors",props:{activeColor:{}},emits:["select"],setup(D){const d=[{color:"grey",bgClass:"bg-grey"},{color:"red",bgClass:"bg-red"},{color:"yellow",bgClass:"bg-yellow"},{color:"green",bgClass:"bg-green"},{color:"orange",bgClass:"bg-orange"},{color:"blue",bgClass:"bg-blue"},{color:"text-c-2",bgClass:"bg-c-2"},{color:"purple",bgClass:"bg-purple"},{color:"pink",bgClass:"bg-pink"}];return(p,o)=>(n(),c("div",ee,[(n(),c(w,null,_(d,a=>b("div",{key:a.color,class:$(["flex h-5 w-5 cursor-pointer items-center justify-center rounded-full",a.bgClass]),onClick:f=>p.$emit("select",a.color)},[p.activeColor===a.color?(n(),m(r(S),{key:0,icon:"Checkmark",size:"xs"})):h("",!0)],10,le)),64))]))}}),oe={class:"flex-1"},se=["value"],ne={class:"colors ml-auto"},pe=x({__name:"Environment",props:{isApp:{type:Boolean}},setup(D){const d=M(),p=R(),{environments:o,environmentMutators:a,events:f}=j(),e=g(null),y=g(null),v=g(!1);function k(){const l=Z.parse({name:"New Environment",uid:q(),color:"grey",raw:JSON.stringify({exampleKey:"exampleValue"},null,2),parsed:[],isDefault:!1});a.add(l),e.value=l.uid,d.push(e.value)}function N(l){e.value&&a.edit(e.value,"value",l)}const V=l=>{a.delete(l),e.value===l&&(e.value=null)},E=l=>e.value&&a.edit(e.value,"color",l),B=()=>{e.value&&!o[e.value].isDefault&&(v.value=!0,H(()=>{var l;(l=y.value)==null||l.focus()}))},A=l=>{const t=l.target.value;e.value&&!o[e.value].isDefault&&a.edit(e.value,"name",t)},C=l=>{l!=null&&l.createNew&&p.name==="environment"&&k()};return z(()=>{f.hotKeys.on(C)}),F(()=>f.hotKeys.off(C)),(l,t)=>(n(),m(Q,null,{default:u(()=>[i(J,{title:"Environment"},{content:u(()=>[b("div",oe,[i(X,null,{default:u(()=>[(n(!0),c(w,null,_(r(o),s=>(n(),m(G,{key:s.uid,class:"text-xs",variable:{name:s.name,uid:s.uid,color:s.color,isDefault:s.isDefault},warningMessage:"Are you sure you want to delete this environment?",onClick:K=>e.value=s.uid,onDelete:K=>V(s.uid)},null,8,["variable","onClick","onDelete"]))),128))]),_:1})])]),button:u(()=>[i(L,{click:k,hotkey:"N",isApp:l.isApp},{title:u(()=>t[2]||(t[2]=[I("Add Environment")])),_:1},8,["isApp"])]),_:1}),i(P,{class:"flex-1"},{default:u(()=>[i(O,null,T({default:u(()=>[e.value?(n(),m(W,{key:0,class:"pl-px pr-2 md:px-2 py-2.5",language:"json",lineNumbers:"",modelValue:r(o)[e.value].value,"onUpdate:modelValue":N},null,8,["modelValue"])):h("",!0)]),_:2},[e.value?{name:"title",fn:u(()=>[!v.value||r(o)[e.value].isDefault?(n(),c("span",{key:0,onDblclick:B},U(r(o)[e.value].name),33)):(n(),c("input",{key:1,ref_key:"nameInputRef",ref:y,class:"ring-1 ring-offset-4 ring-b-outline rounded",spellcheck:"false",type:"text",value:r(o)[e.value].name,onBlur:t[0]||(t[0]=s=>v.value=!1),onInput:A,onKeyup:t[1]||(t[1]=Y(s=>v.value=!1,["enter"]))},null,40,se)),b("div",ne,[i(ae,{activeColor:r(o)[e.value].color,onSelect:E},null,8,["activeColor"])])]),key:"0"}:void 0]),1024)]),_:1})]),_:1}))}});export{pe as default};
