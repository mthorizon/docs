import{d as x,V as n,W as c,F as w,a9 as _,X as b,a0 as m,H as r,Z as K,a2 as h,_ as M,aJ as R,aS as T,aC as $,r as g,l as j,ak as z,ab as u,Y as i,ac as F,aA as I,aa as J,a7 as U,bT as Y,a4 as Z,aE as H}from"./APIComponent-C84caWCg.js";import{e as L,d as O,u as W,f as X}from"./Sidebar.vue-BlDoQKpR.js";import{p as q,a as G}from"./SidebarListElement.vue-C6Ukar_8.js";import{x as P,a as Q}from"./ViewLayoutContent.vue-FYve4EB_.js";import"./index-Dbg4ExiF.js";const ee={class:"flex flex-row gap-1.5 space-x-1"},le=["onClick"],ae=x({__name:"EnvironmentColors",props:{activeColor:{}},emits:["select"],setup(D){const d=[{color:"grey",bgClass:"bg-grey"},{color:"red",bgClass:"bg-red"},{color:"yellow",bgClass:"bg-yellow"},{color:"green",bgClass:"bg-green"},{color:"orange",bgClass:"bg-orange"},{color:"blue",bgClass:"bg-blue"},{color:"text-c-2",bgClass:"bg-c-2"},{color:"purple",bgClass:"bg-purple"},{color:"pink",bgClass:"bg-pink"}];return(p,o)=>(n(),c("div",ee,[(n(),c(w,null,_(d,a=>b("div",{key:a.color,class:M(["flex h-5 w-5 cursor-pointer items-center justify-center rounded-full",a.bgClass]),onClick:f=>p.$emit("select",a.color)},[p.activeColor===a.color?(n(),m(r(K),{key:0,icon:"Checkmark",size:"xs"})):h("",!0)],10,le)),64))]))}}),oe={class:"flex-1"},se=["value"],ne={class:"colors ml-auto"},pe=x({__name:"Environment",props:{isApp:{type:Boolean}},setup(D){const d=R(),p=T(),{environments:o,environmentMutators:a,events:f}=$(),e=g(null),y=g(null),v=g(!1);function k(){const l=Y.parse({name:"New Environment",uid:Z(),color:"grey",raw:JSON.stringify({exampleKey:"exampleValue"},null,2),parsed:[],isDefault:!1});a.add(l),e.value=l.uid,d.push(e.value)}function N(l){e.value&&a.edit(e.value,"value",l)}const V=l=>{a.delete(l),e.value===l&&(e.value=null)},E=l=>e.value&&a.edit(e.value,"color",l),A=()=>{e.value&&!o[e.value].isDefault&&(v.value=!0,H(()=>{var l;(l=y.value)==null||l.focus()}))},B=l=>{const t=l.target.value;e.value&&!o[e.value].isDefault&&a.edit(e.value,"name",t)},C=l=>{l!=null&&l.createNew&&p.name==="environment"&&k()};return j(()=>{f.hotKeys.on(C)}),z(()=>f.hotKeys.off(C)),(l,t)=>(n(),m(Q,null,{default:u(()=>[i(L,{title:"Environment"},{content:u(()=>[b("div",oe,[i(q,null,{default:u(()=>[(n(!0),c(w,null,_(r(o),s=>(n(),m(G,{key:s.uid,class:"text-xs",variable:{name:s.name,uid:s.uid,color:s.color,isDefault:s.isDefault},warningMessage:"Are you sure you want to delete this environment?",onClick:S=>e.value=s.uid,onDelete:S=>V(s.uid)},null,8,["variable","onClick","onDelete"]))),128))]),_:1})])]),button:u(()=>[i(O,{click:k,hotkey:"N",isApp:l.isApp},{title:u(()=>t[2]||(t[2]=[F("Add Environment")])),_:1},8,["isApp"])]),_:1}),i(P,{class:"flex-1"},{default:u(()=>[i(W,null,I({default:u(()=>[e.value?(n(),m(X,{key:0,class:"pl-px pr-2 md:px-2 py-2.5",language:"json",lineNumbers:"",modelValue:r(o)[e.value].value,"onUpdate:modelValue":N},null,8,["modelValue"])):h("",!0)]),_:2},[e.value?{name:"title",fn:u(()=>[!v.value||r(o)[e.value].isDefault?(n(),c("span",{key:0,onDblclick:A},J(r(o)[e.value].name),33)):(n(),c("input",{key:1,ref_key:"nameInputRef",ref:y,class:"ring-1 ring-offset-4 ring-b-outline rounded",spellcheck:"false",type:"text",value:r(o)[e.value].name,onBlur:t[0]||(t[0]=s=>v.value=!1),onInput:B,onKeyup:t[1]||(t[1]=U(s=>v.value=!1,["enter"]))},null,40,se)),b("div",ne,[i(ae,{activeColor:r(o)[e.value].color,onSelect:E},null,8,["activeColor"])])]),key:"0"}:void 0]),1024)]),_:1})]),_:1}))}});export{pe as default};
