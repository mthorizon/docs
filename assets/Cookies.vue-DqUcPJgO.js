import{d as S,c as B,z as s,an as v,av as i,C as c,u as r,ap as D,x as M,L as p,B as k,$ as w,at as C,ak as N,al as j,aw as O,au as E,J as F,K as V}from"./APIComponent-BqHpc-0q.js";import{b as R}from"./SidebarButton.vue-Coz5sUrZ.js";import{d as I,a as T}from"./SidebarListElement.vue-MXfGBbDG.js";import{u as K,m as U,x as A,b as J}from"./Sidebar.vue-BpkchPKb.js";import{a as $,u as L,c as G}from"./index-CLIZv10t.js";import{w as H}from"./Form.vue-DPgp6o2j.js";import{_ as P}from"./CodeInput.vue-Da8HOVAp.js";import{a as Q}from"./useSidebar-CoJnclwj.js";import"./index-CbmeILVm.js";import"./DataTableRow.vue-UTS4xHiR.js";import"./DataTableInput.vue-I2WIYQoO.js";const X={class:"flex items-center pointer-events-none"},Y=["value"],q=S({__name:"CookieForm",setup(z){const{cookies:d,activeCookieId:n,cookieMutators:u}=$(),m=[{label:"Key",key:"key",placeholder:"Username"},{label:"Value",key:"value",placeholder:"123"},{label:"Domain",key:"domain",placeholder:"scalar.com"},{label:"Path",key:"path",placeholder:"/"},{label:"Expires",key:"expires",placeholder:"Tomorrow"},{label:"Secure",key:"secure",placeholder:"True/False"},{label:"HttpOnly",key:"httpOnly",placeholder:"True/False"}],b=B(()=>d[n.value]||{}),x=(y,a)=>{n.value&&u.edit(n.value,y,a)};return(y,a)=>(s(),v(H,{data:b.value,onUpdate:x,options:m},{title:i(()=>[c("div",X,[a[1]||(a[1]=c("label",{class:"absolute w-full h-full top-0 left-0 pointer-events-auto opacity-0 cursor-text",for:"cookiename"},null,-1)),c("input",{id:"cookiename",class:"md:pl-1 outline-none border-0 text-c-2 rounded pointer-events-auto relative w-full",placeholder:"Cookie Name",value:b.value.name,onInput:a[0]||(a[0]=_=>x("name",_.target.value))},null,40,Y)])]),_:1},8,["data"]))}}),W=S({__name:"CookieRaw",setup(z){const{cookies:d,activeCookieId:n}=$();return(u,m)=>(s(),v(K,null,{title:i(()=>m[0]||(m[0]=[c("span",null,"Raw Cookie String",-1)])),default:i(()=>[r(n)&&r(d)[r(n)]?(s(),v(P,{key:0,class:"pl-px pr-2 md:px-2 py-2.5",lineNumbers:"",modelValue:""})):D("",!0)]),_:1}))}}),Z={class:"flex-1"},ee=["onClick"],te={class:"before:bg-border before:pointer-events-none before:z-1 before:absolute before:left-[calc(1rem_-_1.5px)] before:top-0 before:h-[calc(100%_+_.5px)] last:before:h-full before:w-[.5px] mb-[.5px] last:mb-0 relative"},oe=["onClick"],ae={class:"before:bg-border before:pointer-events-none before:z-1 before:absolute before:left-[calc(1.75rem_-_1.5px)] before:top-0 before:h-[calc(100%_+_.5px)] last:before:h-full before:w-[.5px] mb-[.5px] last:mb-0 relative"},he=S({__name:"Cookies",setup(z){const{cookies:d,cookieMutators:n}=$(),{collapsedSidebarFolders:u,toggleSidebarFolder:m}=Q(),b=L(),x=()=>{const t=Object.keys(d).length,e=G.parse({name:`Cookie ${t}`,value:"",domain:"example.com",path:"/",secure:!1,httpOnly:!1,sameSite:"None"});n.add(e),b.push(e.uid)},y=t=>{n.delete(t);const e=Object.values(d).filter(o=>o.uid!==t);if(e.length>1){const o=e[e.length-1];b.push(o.uid)}else e.length===1&&e[0].uid==="default"&&b.push("default")},a=B(()=>{const t={};return Object.values(d).forEach(e=>{e.domain&&e.path&&(t[e.domain]||(t[e.domain]={}),t[e.domain][e.path]||(t[e.domain][e.path]=[]),t[e.domain][e.path].push(e))}),t}),_=t=>u[t];return M(()=>{const t=Object.keys(a.value),e=Object.entries(a.value).flatMap(([o,l])=>Object.keys(l).map(g=>o+g));t.forEach(o=>{u[o]=!0}),e.forEach(o=>{u[o]=!0})}),(t,e)=>(s(),v(J,null,{default:i(()=>[p(r(U),{title:"Cookies"},{content:i(()=>[c("div",Z,[p(I,null,{default:i(()=>[(s(!0),k(w,null,C(a.value,(o,l)=>(s(),k("div",{key:l},[c("button",{class:"flex font-medium gap-1.5 items-center px-2 py-1.5 text-left text-sm w-full break-words rounded hover:bg-b-2",type:"button",onClick:g=>r(m)(l)},[p(r(N),{class:j(["text-c-3",{"rotate-90":r(u)[l]}]),icon:"ChevronRight",size:"sm",thickness:"2.5"},null,8,["class"]),O(" "+E(l),1)],8,ee),F(c("div",te,[(s(!0),k(w,null,C(o,(g,f)=>(s(),k("div",{key:f},[c("button",{class:"flex font-medium gap-1.5 items-center pl-5 pr-2 py-1.5 text-left text-sm w-full break-words rounded hover:bg-b-2",type:"button",onClick:h=>r(m)(l+f)},[p(r(N),{class:j(["text-c-3",{"rotate-90":r(u)[l+f]}]),icon:"ChevronRight",size:"sm",thickness:"2.5"},null,8,["class"]),O(" "+E(f),1)],8,oe),F(c("div",ae,[(s(!0),k(w,null,C(g,h=>(s(),v(T,{key:h.uid,class:"cookie text-xs",variable:{name:h.name,uid:h.uid},warningMessage:"Are you sure you want to delete this cookie?",onDelete:le=>y(h.uid)},null,8,["variable","onDelete"]))),128))],512),[[V,_(l+f)]])]))),128))],512),[[V,_(l)]])]))),128))]),_:1})])]),button:i(()=>[p(R,{click:x},{title:i(()=>e[0]||(e[0]=[O("Add Item")])),_:1})]),_:1}),p(A,{class:"flex-1"},{default:i(()=>[p(q),p(W)]),_:1})]),_:1}))}});export{he as default};
